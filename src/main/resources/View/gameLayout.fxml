<?import View.GameOverPanel?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import java.net.URL?>
<Pane fx:controller="Controller.GuiController"
      xmlns:fx="http://javafx.com/fxml"
      prefWidth="350" prefHeight="550"
      style="-fx-background-color: #1a1a1a;">

    <GridPane fx:id="brickPanel" hgap="1" vgap="1">
    </GridPane>

    <GridPane fx:id="ghostPanel" hgap="1" vgap="1" visible="true">
    </GridPane>

    <BorderPane styleClass="gameBoard" fx:id="gameBoard"
                style="-fx-border-color: #00E676; -fx-border-width: 3px; -fx-background-color: rgba(0,0,0,0.3); -fx-border-radius: 5px;">
        <center>
            <GridPane fx:id="gamePanel" hgap="1" vgap="1" layoutY="30" layoutX="40"/>
        </center>
    </BorderPane>

    <VBox layoutX="240" layoutY="50" spacing="10">
    <Label fx:id="scoreLabel" text="Score: 0" styleClass="scoreClass"/>

        <!-- Next Pieces Preview - UNIFIED CONTAINER -->
        <VBox alignment="CENTER" spacing="0" style="-fx-padding: 8px; -fx-border-color: #2196F3; -fx-border-width: 3px; -fx-background-color: rgba(0,0,0,0.5); -fx-border-radius: 10px; -fx-background-radius: 10px;">
            <Label text="NEXT" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: white; -fx-padding: 5px;"/>

            <!-- Separator Line -->
            <Label text="" style="-fx-border-color: #2196F3; -fx-border-width: 0 0 2 0; -fx-pref-width: 100;"/>

            <!-- Preview Box 1 -->
            <GridPane fx:id="nextPanel1" hgap="1" vgap="1" alignment="CENTER" style="-fx-padding: 8px;"/>

            <!-- Preview Box 2 -->
            <GridPane fx:id="nextPanel2" hgap="1" vgap="1" alignment="CENTER" style="-fx-padding: 6px;"/>

            <!-- Preview Box 3 -->
            <GridPane fx:id="nextPanel3" hgap="1" vgap="1" alignment="CENTER" style="-fx-padding: 6px;"/>

            <!-- Preview Box 4 -->
            <GridPane fx:id="nextPanel4" hgap="1" vgap="1" alignment="CENTER" style="-fx-padding: 4px;"/>

            <!-- Preview Box 5 -->
            <GridPane fx:id="nextPanel5" hgap="1" vgap="1" alignment="CENTER" style="-fx-padding: 4px;"/>
        </VBox>


        <!-- High Score Display - ADD THIS -->
        <VBox alignment="CENTER" spacing="2" style="-fx-padding: 5px;">
            <Label text="HIGH SCORE" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #FFD700;"/>
            <Label fx:id="highScoreLabel" text="0" style="-fx-font-size: 20px; -fx-text-fill: #FFD700; -fx-font-family: 'Let''s go Digital';"/>
        </VBox>


        <Button fx:id="pauseButton" text="Pause"
                onAction="#pauseGame"
                styleClass="ipad-dark-grey"
                prefWidth="100" prefHeight="35"/>

        <Button text="New Game"
                onAction="#newGame"
                styleClass="ipad-dark-grey"
                prefWidth="100" prefHeight="35"/>

        <Button text="Back to Menu"
                onAction="#backToMenu"
                styleClass="ipad-dark-grey"
                prefWidth="100" prefHeight="35"/>

        <!-- Different Levels-->
        <VBox alignment="CENTER" spacing="2" style="-fx-padding: 5px;">
            <Label text="LEVEL" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #00E676;"/>
            <Label fx:id="levelLabel" text="1" style="-fx-font-size: 24px; -fx-text-fill: #00E676; -fx-font-family: 'Let''s go Digital';"/>
        </VBox>


        <VBox alignment="CENTER" spacing="2" style="-fx-padding: 5px;">
            <Label text="LINES" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #FFFFFF;"/>
            <Label fx:id="linesLabel" text="0" style="-fx-font-size: 18px; -fx-text-fill: #FFFFFF; -fx-font-family: 'Let''s go Digital';"/>
        </VBox>

        <!-- Timer Display -->
        <VBox fx:id="timerContainer" alignment="CENTER" spacing="2" style="-fx-padding: 5px;" visible="false">
            <Label fx:id="timerTitle" text="TIME" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #FF9800;"/>
            <Label fx:id="timerLabel" text="0:00" style="-fx-font-size: 20px; -fx-text-fill: #FF9800; -fx-font-family: 'Let''s go Digital';"/>
        </VBox>

        <Label fx:id="scoreLabel" text="Score: 0" styleClass="scoreClass"/>

        <Label fx:id="scoreLabel" text="Score: 0" styleClass="scoreClass"/>

        <!-- Hold Piece Display -->
        <VBox alignment="CENTER" spacing="5" style="-fx-padding: 10px;">
            <Label text="HOLD" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: white;"/>
            <BorderPane prefWidth="90" prefHeight="90"
                        style="-fx-border-color: #4CAF50; -fx-border-width: 3px; -fx-background-color: rgba(0,0,0,0.5); -fx-border-radius: 8px; -fx-background-radius: 8px;">
                <center>
                    <GridPane fx:id="holdPanel" hgap="1" vgap="1" alignment="CENTER"/>
                </center>
            </BorderPane>
            <Label text="Press H to Hold" style="-fx-font-size: 11px; -fx-text-fill: #AAA;"/>
            <Label text="SPACE to Drop" style="-fx-font-size: 11px; -fx-text-fill: #AAA;"/>
        </VBox>

    </VBox>

    <Group fx:id="groupNotification" layoutX="14" layoutY="203">
        <VBox alignment="CENTER">
            <GameOverPanel fx:id="gameOverPanel"/>
        </VBox>
    </Group>

    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>
</Pane>